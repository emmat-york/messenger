<ng-container *ngrxLet="{ essentialData: essentialData$, chat: chatVm$ }; let vm">
  @if (vm.chat.selectedDialog && vm.essentialData) {
  <app-chat-top-bar
    [dialogOrEssentialUserData]="vm.chat.selectedDialog"
  ></app-chat-top-bar>

  <app-chat-body
    [isLoading]="vm.chat.isLoading"
    [messages]="vm.chat.messages"
    [uuid]="vm.essentialData.uuid"
  ></app-chat-body>

  <app-chat-input
    placeholder="Write a message..."
    [isLoading]="vm.chat.isLoading"
    [input]="vm.chat.input"
    (scrollDown)="scrollDown()"
  ></app-chat-input>
  } @else {
  <app-no-selected-contact></app-no-selected-contact>
  }
</ng-container>
